1. 소개

구현한 부분
1. 입차, 출차, 주차 차량 보기, 하루 수입 계산기 구현
2. 주차 시간 및 금액 계산 구현
3. 유효성 검사 구현 
4. 입력 출력 Exception 구현
5. 객체지향적 프로그램 구현 (클래스, 상속, 다형성 활용)



2. 분석 / 설계

1. 자동차 객체를 저장하는 vehicle변수는 한번만 생성하고 데이터가 유지되어야 한다. 그리고 다른 클래스에서 같은 객체를 사용해야하기 때문에 main.java에서 static으로 생성함

2. parkingSystem에서 Scanner, Convert, 객체는 계속 생성할 필요가 없기 때문에 멤버 변수로 생성, 
Account 객체는 수입 데이터를 저장해야하기 때문에 한번만 생성하고 데이터가 유지 되어야 하기 때문에 멤버 변수로 생성

- 데이터 변환
convert.java
 날짜 변환 클래스
 getMinute() -> 날짜를 분 단위로 변환해줌
 getDay() -> 날짜를 일 단위로 변환해줌
 getTimeForm() -> 날짜를 형식에 맞게 변환해줌

PayRole.java
 금액 계산 관련 클래스
getRole() -> 조건으로 받은 금액 규칙을 세팅해줌
getpayment() -> 금액을 구하는 함수, 날짜를 분 단위로 바꿔주고 출차 시간과 입차 시간의 차이를 구하여 주차 시간을 구한다. 자동차 종류 및 크기에 대한 규칙은 getRole에서 가져온다. ( 출차 시간보다 입차 시간이 더 클 때, 주차 시간이 30일 보다 클 때 유효성 검사 ) 
주차 요금 공식
((주차시간-기본시간 / 차 종류별 분 단위) + 1) *(차 종류별 분당 금액) + 기본 금액
예시) 승용차가 53분 주차를 했을 때
53-30 = 23
23/10 = 2
2+1 = 3
3*500 = 1500
1500+1000 = 2500원

주차 시간 공식
((주차시간/차 종류별 분 단위) + 1) * (차 종류별 분 단위) / 60 = 시간
((주차시간/차 종류별 분 단위) + 1) * (차 종류별 분 단위) % 60 = 분

중간에 +1을 하는 이유는 주차 금액 조건에서 1분이라도 초과하면 올림으로 계산한다고 주어짐.




3. 클래스 설명


- vehicle.java
자동차의 공통적인 특징을 정리해둠, 자동차별 특징은 추상메소드로 남겨둠
getFeature() 추상메소드 구현 ( 각 자동차의 특징을 얻기 위해 만듬 )

- bus, car, truck .java
각 자동차 클래스, 차동차별 특징 저장 및 추상메소드 구현
 super() 부모클래스(vehicle)의 생성자를 사용하기 위해 사용
 getFeature() 추상메소드는 자식 클래스에 반드시 구현해야함





- Account.java 
 하루 수입 계산하는 클래스 hashmap 사용 ( hashmap은 중복값을 허용을 안하기 때문에 날짜별로 수입을 저장할 수 있음 )
containsKey() - 날짜 값이 존재하는지 확인
get() - 날짜 값의 해당 되는 수입을 가져옴
put() - 날짜 값에 수입을 저장함

- Convert.java
날짜 형식을 바꿔주는 클래스
getMinute() - 날짜를 분 단위로 반환( 주차비 계산할 때 사용)
getDay() - 날짜를 일 단위로 반환 ( 하루 수입 계산할 때 사용)
getTimeForm – 날짜를 yyyy/mm/dd hh:mm 형식으로 반환

- Main.java
 메인 클래스, vehicle 객체와 parkingsystem 객체와 생명주기 공유

- ParkingSystem.java
 주차 시스템에 필요한 메소드를 모은 클래스
CheckMoney() - 날짜를 입력하여 수입 데이터를 가져옴
Show() - 주차 차량 보기, Collections.sort 사용(list를 정렬할 때 사용함)
Comparator을 사용하여 정렬할 기준을 정의해줌(날짜 순)
정렬된  vehicle 리스트를 차 종류별로 분류함 (car, bus, truck)
정렬된 자동차 출력
Input() - 입차 관리, 정보를 입력받고 car, bus, truck 객체를 vehicle 리스트에 추가함 ( 다형성 사용)   
output() - 출차 관리, 출차 정보를 입력받고 vehicle 리스트에서 차량번호를 조회함. 차량번호가 일치하는 차가 있다면 금액을 계산함 (ac.setMoney(day,money)) 그리고 해당 차량 정보를 삭제함 Main.vehicle.remove(i)

- PayRole.java
주차비 계산 규칙 및 주차비 계산 메소드
getRole() - 차량별 주차비와 주차 시간 단위를 저장함
payment() - 주차비를 계산함, 계산 공식은 위에 적어둠.









